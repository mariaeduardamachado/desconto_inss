<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
  <h1>Proponente</h1>
  <br>
  <%= link_to "Cadastrar",  new_proponent_path,  class:"btn btn-outline-primary" %>
  <%= link_to "Gerar Relatório de Salário", report_proponents_path, class: "btn btn-primary" %>
  <table class="table">
    <thead>
      <br>
      <tr>
        <br>
        <th scope="col">Nome</th>
        <th scope="col">CPF</th>
        <th scope="col">Data de Nascimento</th>
        <th scope="col">Endereço</th>
        <th scope="col">Celular</th>
        <th scope="col">Telefone Ref.</th>
        <th scope="col">Salário</th>
        <th scope="col">Valor do Desconto</th>
      </tr>
    </thead>

    <tbody>
      <% @proponents.each do |proponent| %>
        <tr>
          <th>
            <%= proponent.nome %>
          </th>
          <th>
            <%= proponent.decorate.cpf %>
          </th>
          <th>
            <%= proponent.decorate.data_nascimento %>
          </th>
          <th>
            <%= proponent.decorate.endereco %>
          </th>
          <th>
            <%= proponent.telefone_pessoal %>
          </th>
          <th>
            <%= proponent.telefone_referencias %>
          </th>
          <th>
            <%= proponent.decorate.salario %>
          </th>
          <th>
            <%= proponent.decorate.valor_desconto %>
          </th>
          <td>
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#updateSalaryModal<%= proponent.id %>">
              Atualizar Salário
            </button>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
 
 <% @proponents.each do |proponent| %>
  <div class="modal fade" id="updateSalaryModal<%= proponent.id %>" tabindex="-1" aria-labelledby="updateSalaryModalLabel<%= proponent.id %>" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="updateSalaryModalLabel<%= proponent.id %>">Atualizar Salário</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Formulário para atualizar o salário do proponente -->
          <%= render 'update_salary_form', proponent: proponent %>
        </div>
      </div>
    </div>
  </div>
<% end %>

  <nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
      <%= will_paginate @proponents %>
    </ul>
  </nav>
</main>

